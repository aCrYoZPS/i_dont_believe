@layout RegistrationLayout
@page "/register"
@using System.ComponentModel.DataAnnotations

<PageTitle>Register now</PageTitle>

<div class="form-container">
    <h1 class="form-header">Register</h1>

    <EditForm Model="registrationModel" OnValidSubmit="HandleValidSubmit" class="registration-form">
        <DataAnnotationsValidator/>

        <div>
            <label>Email:</label>
            <InputText @bind-Value="registrationModel.Email" type="email" spellcheck="false"/>
            <ValidationMessage For="@(() => registrationModel.Email)"/>
        </div>

        <div>
            <label>Nickname:</label>
            <InputText @bind-Value="registrationModel.Nickname" type="text" spellcheck="false"/>
            <ValidationMessage For="@(() => registrationModel.Nickname)"/>
        </div>

        <div>
            <label>Password:</label>
            <InputText @bind-Value="registrationModel.Password" type="password" spellcheck="false"/>
            <ValidationMessage For="@(() => registrationModel.Password)"/>
        </div>

        <button type="submit">Register</button>
    </EditForm>

    @code {
        private RegistrationModel registrationModel = new RegistrationModel();

        private void HandleValidSubmit()
        {
            // Handle registration logic here
            // For example, send registrationModel to backend service for processing
        }

        public class RegistrationModel
        {
            [Required(ErrorMessage = "Email is required.")]
            [EmailAddress(ErrorMessage = "Invalid email format.")]
            public string? Email { get; set; }

            [Required(ErrorMessage = "Nickname is required.")]
            public string? Nickname { get; set; }

            [Required(ErrorMessage = "Password is required.")]
            [MinLength(6, ErrorMessage = "Password must be at least 6 characters.")]
            [MaxLength(32, ErrorMessage = "Password must be at most 32 characters")]
            public string? Password { get; set; }
        }

    }

</div>
